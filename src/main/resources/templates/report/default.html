<!DOCTYPE html>
<html lang="fr"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<title>repport</title>
<!--<script>-->
<!--    function updateFormAction() {-->
<!--        var form = document.getElementById('addStudentForm');-->
<!--        var select = document.getElementById('rapport');-->
<!--        var selectedValue = select.value;-->

<!--        if (selectedValue) {-->
<!--            form.action = '/excels/' + selectedValue;-->
<!--        }-->
<!--    }-->
<!--</script>-->
<script>
    function updateFormAction(buttonType) {
        var form = document.getElementById('addStudentForm');
        var select = document.getElementById('rapport');
        var selectedValue = select.value;
        if (selectedValue) {
            if (buttonType === 'pdf') {
                form.action = '/pdf/' + selectedValue;
            } else if (buttonType === 'excel') {
                form.action = '/excels/' + selectedValue;
            }
        }
    }
</script>
<link rel="stylesheet" href="../css/rapport/rapport.css">
<head th:insert="~{fragments/fragment :: head}">
</head>
<body>
<div  th:insert="~{fragments/fragment :: sidebar(school=${school})}"></div>

<div class="main-content">
    <main>
        <h2>Rapport</h2>
<!--        <form id="addStudentForm" th:action="@{/excels/value}" method="post">-->
<!--            <div class="form-row">-->
<!--            </div>-->
<!--            <div class="form-row">-->
<!--                    <select id="rapport" required>-->
<!--                        <option value="">Sélectionner une option</option>-->
<!--                        <option value="students">Liste des eleves</option>-->
<!--                        <option value="teachers">Liste des professeurs</option>-->
<!--                    </select>-->
<!--                <button type="button" class="btn-cancel">Generer format PDF</button>-->
<!--                <button type="submit" class="btn-save">Generer format Excel</button>-->
<!--            </div>-->
<!--        </form>-->

        <form id="addStudentForm" method="get">
            <div class="form-row">
                <select id="rapport" required>
                    <option value="">Sélectionner une option</option>
                    <option value="students">Liste des élèves</option>
                    <option value="teachers">Liste des professeurs</option>
                    <option value="users">Liste des utilisateurs</option>
                </select>
            </div>
            <div class="form-row">
                <button type="submit" class="btn-cancel" onclick="updateFormAction('pdf')">Générer format PDF</button>
                <button type="submit" class="btn-save" onclick="updateFormAction('excel')">Générer format Excels</button>
            </div>
        </form>
    </main>
</div>

<th:block th:insert="~{fragments/fragment :: script-modal}"></th:block>
</body>
</html>
